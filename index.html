_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"1MVt":function(e,t,a){"use strict";var n=a("q1tI"),u=a.n(n).a.createElement;t.a=function(e){return u("div",{className:e.className,style:{backgroundImage:"url(/static/images/subjects/".concat(e.id,".svg?v=1)")}},e.children)}},RNiq:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),u=a.n(n),s=a("HaE+"),o=a("1OyB"),r=a("vuIU"),c=a("JX7q"),i=a("Ji7U"),l=a("md7G"),f=a("foSv"),p=a("rePB"),d=a("q1tI"),m=a.n(d),h=a("8Kt/"),g=a.n(h),v=a("wOhW"),b=a("glsg"),y=a("pvp9"),N=a("5cDc"),O=a("rFDI"),j=a("i2FJ"),k=a("1MVt"),w=a("RnYt"),R=a("vDqi"),D=a.n(R),_=a("TSYQ"),P=a.n(_),T=a("R+Of"),x=m.a.createElement;function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){Object(i.a)(n,e);var t,a=(t=n,function(){var e,a=Object(f.a)(t);if(q()){var n=Object(f.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(l.a)(this,e)});function n(e){var t;return Object(o.a)(this,n),t=a.call(this,e),Object(p.a)(Object(c.a)(t),"handleLanguage",(function(e){var a=e.target.value,n=t.props.data.languages;t.props.setLang(a),t.setState({playActive:n.find((function(e){return e.id==a})).subjects.length})})),t._source=D.a.CancelToken.source(),t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.data.user.logado&&(this._timer=setTimeout((function(){return e.fetch()}),5e3)),this.props.setPopup(O.a.CLOSE_LOADING)}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),this._source.cancel()}},{key:"fetch",value:function(){var e=this;D.a.get("/req/lastRooms",{responseType:"json",cancelToken:this._source.token}).then((function(t){t.data&&e.setState({rooms:t.data}),e._timer=setTimeout((function(){return e.fetch()}),5e3)})).catch((function(t){D.a.isCancel(t)||(e._timer=setTimeout((function(){return e.fetch()}),5e3))}))}},{key:"playHome",value:function(){this.state.playActive&&this.play()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.user,n=a.logado,u=a.avatar,s=t.languages,o=this.props.setPopup,r=this.state,c=r.name,i=r.rooms,l=r.playActive,f=this.props.lang.index,p=this.props.lang.social,d=this.props.lang.subjects,h=[];if(n&&i.length<4)for(var b=0;b<4-i.length;b++)h.push(x("li",{className:"empty",key:b},x("div",{className:"figure"}),x("div",{className:"infosRoom"},x("h5",null),x("div",null,x("span",null),x("span",null),x("span",null)))));return x(v.a,{home:!0,fixed:!0},x(g.a,null,x("title",null,"Gartic.io - Draw, Guess, WIN"),x("meta",{name:"description",content:"Play Gartic.io online and for free. Draw and guess the words as fast as you can! Join on worldwide rooms or create your own."})),x("div",{className:"title mobileHide"},x(T.a,{title:f.title})),x("div",{className:"content home"},x("div",{className:"anonymus"},x("div",{className:"form"},x("h3",null,f.subtitleQuickPlay),n?x(m.a.Fragment,null,x(j.a,{url:u}),x("a",{href:"/logout?home",className:"exit ic-logout"},x("p",null,f.logout))):x(j.a,{type:u},x("button",{className:"selectAvatar",onClick:function(){return o(O.a.AVATAR,{avatar:u,cb:e.changeAvatar})}})),x("div",{className:"containerForm"},x("div",{className:"fieldset nick"},x("span",null,f.nick),x("label",{className:"text"},x("input",{type:"text",value:c,onChange:this.changeName,maxLength:"18"}))),x("div",{className:"fieldset lang"},x("span",null,f.language),x("label",{className:"select"},x("select",{name:"language",value:this.props.lang.id,onChange:this.handleLanguage},x("optgroup",{label:f.themesAvailable},s.filter((function(e){return e.subjects.length})).map((function(e){return x("option",{value:e.id,key:"lang"+e.id},e.name)}))),x("optgroup",{label:f.withoutThemes},s.filter((function(e){return!e.subjects.length})).map((function(e){return x("option",{value:e.id,key:"lang"+e.id},e.name)})))))))),x("div",{className:"actions"},x("button",{className:"btBlueBig ic-rooms",onClick:function(){return e.nextScreen("/rooms")}},x("strong",null,f.rooms)),x("button",{className:"btYellowBig ic-playHome",onClick:function(){return e.playHome()},disabled:!l},x("strong",null,f.play),x("span",null,f.notOfficialTheme1,x("br",null),f.notOfficialTheme2)))),x("div",{className:"or"},x("span",null,f.or)),n?x("div",{className:"lastRooms"},x("h3",null,f.lastRooms),x("div",null,x(N.a,null,i.length>0?x("ul",null,i.map((function(t){return x("li",{key:t.id,className:P()({official:t.official,bgEmptyRoom:0==t.quant})},x(k.a,{className:"figure",id:t.subject}),x("div",{className:"infosRoom"},x("h5",null,x("strong",null,d[t.subject]),"#",t.id.substr(1),t.official&&x("i",{className:"official"})),x("div",null,x("span",{className:P()("ic-user",{emptyRoom:0==t.quant,full:t.quant>=t.max})},t.quant+"/"+t.max),x("span",{className:"ic-lang"},Object(w.a)(s,t.lang,"iso")),x("span",{className:"ic-trophy"},t.points+"/"+t.goal))),x("span",{className:"ic-playLast",onClick:function(){return e.play(t.code)}},f.play))})),h):x("div",{className:"visibleRoom"},x("div",{className:"figure"}),x("p",null,f.visibleRoom))))):x("div",{className:"login"},x("div",null,x("h3",null,f.loginHere),x("div",{className:"advantagesLogin"},x("span",null,x("p",null,f.newThemes)),x("span",null,x("p",null,f.favoriteRooms)),x("span",null,x("p",null,f.chatToPlayers))),x("div",{className:"wrapper-login"},x("span",{className:"choose-login"},x("p",null,f.chooseLogin)),x("div",{className:"actionsRS"},x("span",null,x("a",{className:"loginTwitter ic-TwHome",href:"/auth/twitter"},x("span",null,p.twitter)),x("a",{className:"loginFacebook ic-FbHome",href:"/auth/facebook"},x("span",null,p.facebook)),x("a",{className:"loginGoogle ic-GoHome",href:"/auth/google"},x("span",null,p.google))),x("span",null,x("a",{className:"loginVK ic-VKHome",href:"/auth/vk"},x("span",null,p.vk)),x("a",{className:"loginReddit ic-RDHome",href:"/auth/reddit"},x("span",null,p.reddit)),x("a",{className:"loginDiscord ic-DCHome",href:"/auth/discord"},x("span",null,p.discord)))))))))}}],[{key:"getInitialProps",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n,s,o,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.req,n=t.query,!(s=t.data).user.logado){e.next=11;break}if(!a){e.next=6;break}o=n.rooms,e.next=11;break;case 6:if(!s.user.logado){e.next=11;break}return e.next=9,D.a.get("/req/lastRooms",{responseType:"json"});case 9:r=e.sent,o=r.data;case 11:return e.abrupt("return",{rooms:o});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.a);t.default=Object(y.a)(E)},RnYt:function(e,t,a){"use strict";var n=a("rePB");t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return(e.find((function(e){return e.id==t}))||Object(n.a)({},a,""))[a]}},glsg:function(e,t,a){"use strict";var n=a("1OyB"),u=a("vuIU"),s=a("JX7q"),o=a("Ji7U"),r=a("md7G"),c=a("foSv"),i=a("rePB"),l=a("q1tI"),f=a.n(l),p=a("nOHt"),d=a.n(p),m=a("vDqi"),h=a.n(m),g=a("rFDI");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(e){Object(o.a)(l,e);var t,a=(t=l,function(){var e,a=Object(c.a)(t);if(y()){var n=Object(c.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(r.a)(this,e)});function l(e){var t;Object(n.a)(this,l),t=a.call(this,e),Object(i.a)(Object(s.a)(t),"changeAvatar",(function(e){var a=t.props.data.user;a.logado||t.props.setData({user:b(b({},a),{},{avatar:e})})})),Object(i.a)(Object(s.a)(t),"changeName",(function(e){var a=e.target.value;t.setState({name:a})})),Object(i.a)(Object(s.a)(t),"play",(function(e){t._checkData()&&t.props.joinGame(e)}));var u=t.props,o=u.rooms,r=u.ios,c=u.data,f=c.user,p=c.languages;return t.state={name:f.nome,rooms:o,ios:r,playActive:p.find((function(e){return e.id==f.language})).subjects.length},t._lang=e.lang.home,t}return Object(u.a)(l,[{key:"_checkData",value:function(){var e=this.state.name,t=this.props.data.user,a=e.trim().replace(/\s+/g," ");return!/^[^<>/\\:&;"'.,!?{}*\[\]]{2,18}$/i.test(a)||/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/.test(a)?(this.props.setPopup(g.a.ALERT,{text:this._lang.invalidNick,icon:"iconErro"}),!1):(this.props.setData({user:b(b({},t),{},{nome:e})}),!0)}},{key:"nextScreen",value:function(e){if(this._checkData()){var t=this.state.name,a=this.props.data.user,n=a.avatar,u=a.language;h.a.post("/req/user",{name:t,avatar:n,language:u}),d.a.push(e)}}}]),l}(f.a.Component);t.a=N},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",0,2,4,1,3,5]]]);
